# If iterm2 settings exsits, and if the utility to convert plist to xml
# exists, copy the iterm2 settings to a directory ~/.iterm2, convert to xml,
# add to staging area for commit
if [ -e /usr/bin/plutil ]
then
	if [ -e ~/Library/Preferences/com.googlecode.iterm2.plist ]
	then
		if [ ! -d ~/.iterm2 ]
		then
			mkdir ~/.iterm2
		fi
		cp ~/Library/Preferences/com.googlecode.iterm2.plist ~/.iterm2
		plutil -convert xml1 ~/.iterm2/com.googlecode.iterm2.plist
		git add -f ~/.iterm2/com.googlecode.iterm2.plist
	fi
fi

# If Sublime Text 3 settings exist, copy to a directory ~/.st3
# and add to staging area for commit
if [ -d ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/ ]
then
    if [ ! -d ~/.st3 ]
    then
        mkdir ~/.st3
    fi
    cp ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/Preferences.sublime-settings ~/.st3/
    cp ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/Package\ Control.sublime-settings ~/.st3/
    git add -f ~/.st3/*
fi
